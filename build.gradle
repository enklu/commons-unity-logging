// default to building with msbuild
def csc = System.getenv("CSC") ?: cscPath
def projName = 'Logging'
def csproj = "${projName}.csproj"
def nupkg = "${projName}.nupkg"

task clean(type:Exec) {
	executable csc
	args csproj, '/target:Clean'
}

task build(type:Exec) {
	executable csc
	args csproj, '/target:Clean;Rebuild'
}

task pack(type:Exec) {
	executable 'nuget'
	args 'pack', csproj
}

task upload(type:Exec, dependsOn:'pack') {
	executable 'nuget'
	args 'push', nupkg
}